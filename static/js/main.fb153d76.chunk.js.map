{"version":3,"sources":["images/logo-white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","contexts/CardsContext.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","images/oval.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","alt","src","MestoLogo","CurrentUserContext","createContext","Card","card","onCardClick","onDeleteCard","onCardLike","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","type","onClick","name","link","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","onCardDelete","avatar","about","map","Footer","Date","getFullYear","ImagePopup","isOpen","onClose","id","handleResponse","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_authorization","headers","authorization","fetch","method","then","body","JSON","stringify","cardId","CardsContext","PopupWithForm","submitText","title","children","onSubmit","noValidate","value","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","DeletePopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isCardPopupOpen","setIsCardPopupOpen","selectedCard","setSelectedCard","loading","setCurrentUser","setCards","currentCard","setCurrentCard","setIsLoading","closeAllPopups","getUserInfo","user","catch","err","console","log","getInitialCards","initialCards","Provider","changeLikeCardStatus","newCard","state","c","setUserInfo","newUserInfo","avatarUrl","changeAvatar","addNewCard","deleteCard","cardsArr","filter","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb153d76.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-white.bbe2a6ea.svg\";","import React from \"react\";\r\nimport MestoLogo from '../images/logo-white.svg';\r\n\r\nfunction Header() {\r\n    return(\r\n        <header className=\"header\">\r\n            <img className=\"logo\" alt=\"логотип Mesto\" src={MestoLogo}/>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import {createContext} from 'react';\r\n\r\nexport const CurrentUserContext = createContext({});","import React, {useContext} from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onDeleteCard, onCardLike }) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n    function handleCardLike (){\r\n        onCardLike(card)\r\n    }\r\n    function handleDeleteClick (){\r\n        onDeleteCard(card)\r\n    }\r\n    return (\r\n        <div className=\"card\">\r\n            <button type=\"button\" onClick={handleDeleteClick} className={`card__icon-delete ${isOwn ? 'card__icon-delete_visible' : 'card__icon-delete_hidden'}`}/>\r\n            <img className=\"card__image\" onClick={handleClick} alt={card.name} src={card.link}/>\r\n            <div className=\"card__description\">\r\n                <h2 className=\"card__title\">{card.name}</h2>\r\n                <div className=\"card__like-wrapper\">\r\n                    <button type=\"button\" onClick={handleCardLike} className={`card__icon-like ${isLiked ? 'card__icon-like_active': ''}`}/>\r\n                    <p className=\"card__count-likes\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React, {useContext} from \"react\";\r\nimport Card from \"./Card\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <img className=\"profile__photo\" alt=\"фото в профиле\" src={currentUser.avatar}/>\r\n                    <div onClick={onEditAvatar} className=\"profile__avatar-overlay\"/>\r\n                </div>\r\n                <div className=\"profile__intro\">\r\n                    <div className=\"profile__name-and-button\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button onClick={onEditProfile} type=\"button\" className=\"profile__edit-button\"/>\r\n                    </div>\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>\r\n                <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\"/>\r\n            </section>\r\n\r\n            <section className=\"cards\">\r\n                {cards.map(card => (\r\n                    <Card\r\n                        onCardLike={onCardLike}\r\n                        key={card._id}\r\n                        card={card}\r\n                        onCardClick={onCardClick}\r\n                        onDeleteCard={onCardDelete}/>\r\n                ))}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\">© {new Date().getFullYear()} Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({isOpen, onClose, card}){\r\n    return(\r\n        <section className={`popup ${isOpen ? \"popup_opened\" : \"\"}`} id=\"popup__photo\">\r\n            <div className=\"popup__container\">\r\n                <button type=\"button\" onClick={onClose} className=\"popup__icon-close popup__icon-close-photo\"/>\r\n                <img className=\"popup__photo\" alt={card.name} src={card.link}/>\r\n                <p className=\"popup__description\">{card.name}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","const handleResponse = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n  return res.json();\r\n}\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._authorization = options.headers.authorization;\r\n  }\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: `${this._authorization}`\r\n      }\r\n    })\r\n      .then(handleResponse)\r\n  }\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: `${this._authorization}`\r\n      }\r\n    })\r\n      .then(handleResponse)\r\n  }\r\n  setUserInfo({name, about}) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: `${this._authorization}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n      .then(handleResponse)\r\n  }\r\n  addNewCard({name, link}) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: `${this._authorization}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    })\r\n      .then(handleResponse)\r\n  }\r\n  changeLikeCardStatus(cardId, isLiked){\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: {\r\n        authorization: `${this._authorization}`\r\n      }\r\n    })\r\n        .then(handleResponse)\r\n  }\r\n  deleteCard(cardId){\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: `${this._authorization}`\r\n      }\r\n    })\r\n      .then(handleResponse)\r\n  }\r\n  changeAvatar(avatar){\r\n    return fetch(`${this._baseUrl}/users/me/avatar`,{\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: `${this._authorization}`,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n      .then(handleResponse)\r\n  }\r\n}\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  headers: {\r\n    authorization: '67fb5242-644a-424c-b1b4-e82b266c66c5'\r\n  }\r\n});\r\n","import {createContext} from 'react';\r\n\r\nexport const CardsContext = createContext();","import React from \"react\";\r\n\r\nfunction PopupWithForm({isOpen, onClose, name, submitText, title, children, onSubmit}) {\r\n    return (\r\n        <section className={isOpen ? 'popup popup_opened' : 'popup'} id={`popup__${name}`}>\r\n            <div className=\"popup__container\">\r\n                <button onClick={onClose} type=\"button\" className=\"popup__icon-close popup__icon-close-edit-form\"/>\r\n                <form onSubmit={onSubmit} className={`form ${name}-form`} name={`${name}-form`} noValidate>\r\n                    <h2 className=\"form__header\">{title}</h2>\r\n                    {children}\r\n                    <input type=\"submit\"\r\n                           className={`form__button ${name}-form__submit-button`}\r\n                           value={submitText}/>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React, {useContext, useState, useEffect} from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isLoading}) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser.about, currentUser.name]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title={'Редактировать профиль'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            submitText={isLoading ? 'Сохраняем......' : 'Сохранить'}\r\n            name={'profile-edit'}>\r\n            <fieldset className=\"form__profile-info\">\r\n                <input\r\n                    className=\"form__input form__input_data_heading\"\r\n                    type=\"text\"\r\n                    value={name || ''}\r\n                    onChange={handleChangeName}\r\n                    placeholder=\"Имя\"\r\n                    name=\"name\"\r\n                    id=\"name-input\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"/>\r\n                <span className=\"form__error name-input-error\"/>\r\n                <input\r\n                    className=\"form__input form__input_data_description\"\r\n                    type=\"text\"\r\n                    value={description || ''}\r\n                    onChange={handleChangeDescription}\r\n                    placeholder=\"О себе\"\r\n                    name=\"about\"\r\n                    id=\"job-input\"\r\n                    required minLength=\"2\"\r\n                    maxLength=\"200\"/>\r\n                <span className=\"form__error job-input-error\"/>\r\n            </fieldset>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React, {useContext, useEffect, useRef} from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isLoading}) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const avatarRef = useRef()\r\n    useEffect(() => {\r\n        avatarRef.current.value = ''\r\n    }, [currentUser.avatar]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(avatarRef.current.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title={'Обновить аватар'}\r\n            isOpen={isOpen}\r\n            onSubmit={handleSubmit}\r\n            onClose={onClose}\r\n            submitText={isLoading ? 'Сохраняем......' : 'Сохранить'}\r\n            name={'avatar-edit'}>\r\n            <fieldset className=\"form__profile-info\">\r\n                <input\r\n                    className=\"form__input form__input_avatar_url\" type=\"url\"\r\n                    placeholder=\"Ссылка на аватар\"\r\n                    ref={avatarRef}\r\n                    name=\"avatar\" id=\"avatar-url-input\" required/>\r\n                <span className=\"form__error avatar-url-input-error\"/>\r\n            </fieldset>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, {useState} from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onSubmit, isLoading}) {\r\n    const [cardName, setCardName] = useState('');\r\n    const [cardLink, setCardLink] = useState('');\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onSubmit({name: cardName, link: cardLink})\r\n        setCardName('');\r\n        setCardLink('');\r\n    }\r\n\r\n    function handleChangeCardName(e) {\r\n        setCardName(e.target.value)\r\n    }\r\n\r\n    function handleChangeCardLink(e) {\r\n        setCardLink(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title={'Новое место'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            submitText={isLoading ? 'Добавляем...' : 'Добавить'}\r\n            name={'add-card'}>\r\n            <fieldset className=\"form__profile-info\">\r\n                <input\r\n                    className=\"form__input form__input_card_heading\"\r\n                    type=\"text\" placeholder=\"Название\"\r\n                    name=\"name\"\r\n                    value={cardName || ''}\r\n                    onChange={handleChangeCardName}\r\n                    id=\"card-head-input\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"30\"/>\r\n                <span className=\"form__error card-head-input-error\"/>\r\n                <input\r\n                    className=\"form__input form__input_card_link\"\r\n                    type=\"url\"\r\n                    value={cardLink || ''}\r\n                    onChange={handleChangeCardLink}\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    name=\"link\"\r\n                    id=\"card-link-input\"\r\n                    required/>\r\n                <span className=\"form__error card-link-input-error\"/>\r\n            </fieldset>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeletePopup({onClose, isOpen, onSubmit, isLoading}) {\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onSubmit()\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            onClose={onClose}\r\n            isOpen={isOpen}\r\n            onSubmit={handleSubmit}\r\n            title={'Вы уверены?'}\r\n            submitText={isLoading ? 'Удаляем...' : 'Да'}\r\n            name={'delete'}\r\n        />\r\n    )\r\n}\r\n\r\nexport default DeletePopup;","export default __webpack_public_path__ + \"static/media/oval.3b24a6b9.svg\";","import React, {useEffect, useState} from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport {api} from \"../utils/api\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport {CardsContext} from \"../contexts/CardsContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeletePopup from \"./DeletePopup\";\r\nimport loading from '../images/oval.svg';\r\n\r\nfunction App() {\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(false);\r\n    const [isCardPopupOpen, setIsCardPopupOpen] = useState(false);\r\n    const [selectedCard, setSelectedCard] = useState({});\r\n    const [currentUser, setCurrentUser] = useState({name: 'Загрузка...', avatar: loading})\r\n    const [cards, setCards] = useState([]);\r\n    const [currentCard, setCurrentCard] = useState({});\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleEditAvatarClick = () => {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n    const handleEditProfileClick = () => {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n    const handleAddPlaceClick = () => {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n    function handleDeleteCardClick(card) {\r\n        setIsDeletePopupOpen(true)\r\n        setCurrentCard(card);\r\n    }\r\n    const closeAllPopups = () => {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsDeletePopupOpen(false);\r\n        setIsCardPopupOpen(false)\r\n        setCurrentCard({})\r\n    }\r\n\r\n    function handleCardClick(card) {\r\n        setIsCardPopupOpen(true);\r\n        setSelectedCard({\r\n            link: card.link,\r\n            name: card.name,\r\n        })\r\n    }\r\n\r\n    function handleUpdateUser(user) {\r\n        setIsLoading(true);\r\n        api.setUserInfo(user)\r\n            .then(newUserInfo => {\r\n                setCurrentUser(newUserInfo);\r\n            })\r\n            .then(() => {\r\n                closeAllPopups();\r\n            })\r\n            .then(() => {\r\n                setIsLoading(false)\r\n            })\r\n            .catch(err => {\r\n                setIsLoading(false)\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    function handleUpdateAvatar(avatarUrl) {\r\n        setIsLoading(true);\r\n        api.changeAvatar(avatarUrl)\r\n            .then(res => {\r\n                setCurrentUser(res)\r\n            })\r\n            .then(() => {\r\n                closeAllPopups();\r\n            })\r\n            .then(() => {\r\n                setIsLoading(false)\r\n            })\r\n            .catch(err => {\r\n                setIsLoading(false)\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        api.changeLikeCardStatus(card._id, isLiked)\r\n            .then((newCard) => {\r\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n            });\r\n    }\r\n\r\n    function handleCardDelete() {\r\n        setIsLoading(true);\r\n        api.deleteCard(currentCard._id)\r\n            .then(() => {\r\n                let cardsArr = cards.filter(function (item) {\r\n                    return (item._id !== currentCard._id)\r\n                })\r\n                setCards(cardsArr)\r\n            })\r\n            .then(() => {\r\n                closeAllPopups();\r\n            })\r\n            .then(() => {\r\n                setIsLoading(false)\r\n            })\r\n            .catch(err => {\r\n                setIsLoading(false)\r\n                console.log(err)\r\n            });\r\n    }\r\n\r\n    function handleAddPlaceSubmit(card) {\r\n        setIsLoading(true);\r\n        api.addNewCard(card)\r\n            .then(newCard => {\r\n                setCards([newCard, ...cards]);\r\n            })\r\n            .then(() => {\r\n                closeAllPopups();\r\n            })\r\n            .then(() => {\r\n                setIsLoading(false)\r\n            })\r\n            .catch(err => {\r\n                setIsLoading(false)\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        api.getUserInfo()\r\n            .then(user => {\r\n                setCurrentUser(user)\r\n            }).catch(err => {\r\n            console.log(err)\r\n        })\r\n        api.getInitialCards()\r\n            .then(initialCards => {\r\n                setCards(initialCards)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <CardsContext.Provider value={cards}>\r\n                <div className=\"page\">\r\n                    <Header/>\r\n                    <Main\r\n                        onEditAvatar={handleEditAvatarClick}\r\n                        onEditProfile={handleEditProfileClick}\r\n                        onAddPlace={handleAddPlaceClick}\r\n                        onCardClick={handleCardClick}\r\n                        cards={cards}\r\n                        onCardLike={handleCardLike}\r\n                        onCardDelete={handleDeleteCardClick}\r\n                    />\r\n                    <Footer/>\r\n                    <EditProfilePopup\r\n                        isOpen={isEditProfilePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateUser={handleUpdateUser}\r\n                        isLoading={isLoading}\r\n                    />\r\n                    <EditAvatarPopup\r\n                        isOpen={isEditAvatarPopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onUpdateAvatar={handleUpdateAvatar}\r\n                        isLoading={isLoading}\r\n                    />\r\n                    <AddPlacePopup\r\n                        isOpen={isAddPlacePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onSubmit={handleAddPlaceSubmit}\r\n                        isLoading={isLoading}\r\n                    />\r\n                    <DeletePopup\r\n                        isOpen={isDeletePopupOpen}\r\n                        onClose={closeAllPopups}\r\n                        onSubmit={handleCardDelete}\r\n                        isLoading={isLoading}\r\n                    />\r\n                    <ImagePopup\r\n                        isOpen={isCardPopupOpen}\r\n                        card={selectedCard}\r\n                        onClose={closeAllPopups}\r\n                    />\r\n                </div>\r\n            </CardsContext.Provider>\r\n        </CurrentUserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}